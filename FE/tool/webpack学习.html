<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack【更新】 | AnYi&#39;s blog</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/logo.png">
    <link rel="manifest" href="/logo.png">
    <link rel="apple-touch-icon" href="/logo.png">
    <link rel="mask-icon" href="/logo.png" color="#3eaf7c">
    <meta name="description" content="安艺的个人博客">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    <link rel="preload" href="/assets/css/0.styles.25334014.css" as="style"><link rel="preload" href="/assets/js/app.94fb3527.js" as="script"><link rel="preload" href="/assets/js/2.1b6b649b.js" as="script"><link rel="preload" href="/assets/js/22.31ca88af.js" as="script"><link rel="prefetch" href="/assets/js/10.cf01bc22.js"><link rel="prefetch" href="/assets/js/11.c0ed243f.js"><link rel="prefetch" href="/assets/js/12.5a8eec4a.js"><link rel="prefetch" href="/assets/js/13.fe58c83d.js"><link rel="prefetch" href="/assets/js/14.30ac888f.js"><link rel="prefetch" href="/assets/js/15.c436ecbe.js"><link rel="prefetch" href="/assets/js/16.eee52395.js"><link rel="prefetch" href="/assets/js/17.f80a8a77.js"><link rel="prefetch" href="/assets/js/18.958a9362.js"><link rel="prefetch" href="/assets/js/19.3da30c55.js"><link rel="prefetch" href="/assets/js/20.52acf877.js"><link rel="prefetch" href="/assets/js/21.71c6a3d0.js"><link rel="prefetch" href="/assets/js/23.a655fc01.js"><link rel="prefetch" href="/assets/js/24.37a85591.js"><link rel="prefetch" href="/assets/js/25.a2dca6ca.js"><link rel="prefetch" href="/assets/js/26.90b9ba43.js"><link rel="prefetch" href="/assets/js/27.6b337ca1.js"><link rel="prefetch" href="/assets/js/28.93d27b40.js"><link rel="prefetch" href="/assets/js/29.3b8a981a.js"><link rel="prefetch" href="/assets/js/3.163b9c86.js"><link rel="prefetch" href="/assets/js/30.34f808f8.js"><link rel="prefetch" href="/assets/js/31.86181a03.js"><link rel="prefetch" href="/assets/js/32.a25a2a3d.js"><link rel="prefetch" href="/assets/js/4.1c936485.js"><link rel="prefetch" href="/assets/js/5.06a83b9c.js"><link rel="prefetch" href="/assets/js/6.46238745.js"><link rel="prefetch" href="/assets/js/7.0544107c.js"><link rel="prefetch" href="/assets/js/8.3635c927.js"><link rel="prefetch" href="/assets/js/9.6e2cfacd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.25334014.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">AnYi's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/FE/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/question/" class="nav-link">
  问题
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/dog/" class="nav-link">
  单身狗勿进
</a></div><div class="nav-item"><a href="https://github.com/cuijiahuan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/FE/" class="nav-link router-link-active">
  前端
</a></div><div class="nav-item"><a href="/question/" class="nav-link">
  问题
</a></div><div class="nav-item"><a href="/life/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/dog/" class="nav-link">
  单身狗勿进
</a></div><div class="nav-item"><a href="https://github.com/cuijiahuan" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>code</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>tool</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE/tool/git常用操作.html" class="sidebar-link">git常用操作</a></li><li><a href="/FE/tool/安装mongodb遇到的坑.html" class="sidebar-link">安装mongodb遇到的坑</a></li><li><a href="/FE/tool/webpack学习.html" class="active sidebar-link">webpack学习</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/FE/tool/swiper初步应用.html" class="sidebar-link">swiper初步应用</a></li><li><a href="/FE/tool/前端调试工具.html" class="sidebar-link">前端调试工具</a></li><li><a href="/FE/tool/使用express配置前端服务器.html" class="sidebar-link">使用express配置前端服务器</a></li><li><a href="/FE/tool/gulp学习.html" class="sidebar-link">gulp学习</a></li><li><a href="/FE/tool/npm学习.html" class="sidebar-link">npm学习</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="什么是webpack"><a href="#什么是webpack" class="header-anchor">#</a> 什么是Webpack?</h3> <p>Webpack是一个前端资源加载/打包工具，它将根据模块的依赖关系进行静态分析，然后将这些模块按照指定的规则生成对应的静态资源.</p> <p>通俗地讲，Webpack可以看作是模块打包机：它做的事情是，分析你的项目结构，找到Javascript模块以及其他的一些浏览器不能直接运行的拓展语言（Scss，TypeScript等），并将其转换和打包为合适的格式供浏览器使用。</p> <h3 id="webpack与gulp区别"><a href="#webpack与gulp区别" class="header-anchor">#</a> Webpack与Gulp区别</h3> <p>Webpack与之前学习的gulp相比较而言，两者的流程不大相同，而且Wwbpack的处理速度更快更直接，能打包更多不同类型的文件。</p> <p>gulp是一种能够优化前端的开发流程的工具，它的工作方式是：在一个配置文件中，指明对某些文件进行类似编译，组合，压缩等任务的具体步骤，工具之后可以自动替你完成这些任务。</p> <p><img src="https://upload-images.jianshu.io/upload_images/1031000-d0693c06bb3a00e3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p> <p>Webpack是一种模块化的解决方案，它的工作方式是：把你的项目当做一个整体，通过一个给定的主文件（如：index.js），Webpack将从这个文件开始找到你的项目的所有依赖文件，使用loaders处理它们，最后打包为一个（或多个）浏览器可识别的Javascript文件。</p> <blockquote><p>【注:loader用于对模块的源代码进行转换,比如Webpack只能处理js文件，因此对于css文件就需要安装对应loader模块：style-loader和css-loader等】</p></blockquote> <p><img src="https://upload-images.jianshu.io/upload_images/1031000-160bc667d3b6093a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt=""></p> <p>从图中可以看出，Webpack可以将多种静态资源js,css,less转换成一个静态文件。</p> <h3 id="使用webpack"><a href="#使用webpack" class="header-anchor">#</a> 使用Webpack</h3> <h5 id="安装webpack"><a href="#安装webpack" class="header-anchor">#</a> 安装Webpack</h5> <p>在安装之前，需要检查本地环境是否支持node.js</p> <p>使用npm安装Webpack</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install webpack -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="创建一个文件夹"><a href="#创建一个文件夹" class="header-anchor">#</a> 创建一个文件夹</h5> <p>在你的电脑随便一个盘里创建一个新的文件夹或者使用命令创建:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir webpack-test
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在文件夹中新建一个<strong>run1.js</strong>文件，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>document.write(&quot;Hello World&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>再添加<strong>index.html</strong>文件，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;script type=&quot;text/javascript&quot; src=&quot;bundle.js&quot;&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>接下来使用Webpack命令进行打包：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack run1.js bundle.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>执行以上命令会编译run1.js文件并生成bundle.js文件</p> <p>在浏览器中打开<strong>index.html</strong>文件，会看到页面上有“Hello World”。</p> <h5 id="loader"><a href="#loader" class="header-anchor">#</a> Loader</h5> <p>就像之前说的，如果想要处理除js之外的其他文件，对于css文件，首先需要执行命令来安装css-loader和style-loader</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install css-loader style-loader
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>接下来创建一个style.css文件，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>body{
    background:red;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>修改run1.js文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>require(&quot;!style-loader!css-loader!./style.css&quot;);
document.write(&quot;Hello World&quot;);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>继续使用Webpack命令打包：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack run1.js bundle.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在浏览器访问index.html会发现背景变成红色。</p> <h5 id="配置文件"><a href="#配置文件" class="header-anchor">#</a> 配置文件</h5> <p>可以将一些编译选项放在配置文件中，以便于统一管理。</p> <p>创建webpack.config.js文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>module.exports = {
    entry: &quot;./run1.js&quot;,
    output: {
        path: __dirname,
        filename: &quot;bundle.js&quot;
    },
    module: {
        loaders: [
            {test: /\.css$/,loader: &quot;style.loader!css-loader&quot;}
        ]
    }
};
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>接下来只需要执行<strong>webpack</strong>命令即可生成<strong>bundle.js</strong>文件</p> <p>Webpack命令执行后，会默认载入当前目录的<strong>webpack.config.js</strong>文件。</p> <p><strong>当你想要查看你添加的loaders模块时。可以在安装webpack之后再生成一个package.json文件,它里面会显示你当前所有的依赖模块</strong>，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><em>默认一直点回车就行</em></p> <h5 id="开发环境"><a href="#开发环境" class="header-anchor">#</a> 开发环境</h5> <p>如果不想每次修改模块之后还要重新编译，那么可以启用监听模式；开启之后，就不需要每次都重新编译，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack --watch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当然还有一种方法是启用一个本地服务器，来实现热加载，可以使用webpack-dev-server服务，当然首先需要安装：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install webpack-dev-server -g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>webpack-dev-server
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>运行之后一般会通过localhost:8080启用一个express静态资源web服务器，并且会以监听模式自动运行webpack；如果该端口被占用，可以通过“ -port 端口号 ” 来改变服务器端口。</p> <p>当然webpack还有其他功能。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/FE/tool/安装mongodb遇到的坑.html" class="prev">
        安装mongodb遇到的坑
      </a></span> <span class="next"><a href="/FE/tool/swiper初步应用.html">
        swiper初步应用
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.94fb3527.js" defer></script><script src="/assets/js/2.1b6b649b.js" defer></script><script src="/assets/js/22.31ca88af.js" defer></script>
  </body>
</html>
